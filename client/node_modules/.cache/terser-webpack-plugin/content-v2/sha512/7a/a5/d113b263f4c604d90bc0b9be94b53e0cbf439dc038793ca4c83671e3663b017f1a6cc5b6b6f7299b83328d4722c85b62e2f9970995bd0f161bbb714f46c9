{"map":"{\"version\":3,\"sources\":[\"/Users/patrickseeger/Desktop/booking-test/client/src/context/auth-context.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/pages/Auth.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/Spinner.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/BookingList.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/Chart.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/BookingsControls.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/pages/Bookings.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/Modal.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/Backdrop.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/EventItem.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/EventList.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/pages/Events.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/DrawerButton.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/MainNavigation.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/components/Drawer.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/App.js\",\"/Users/patrickseeger/Desktop/booking-test/client/src/index.js\"],\"names\":[\"React\",\"createContext\",\"token\",\"userId\",\"login\",\"tokenExpiration\",\"logout\",\"AuthPage\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"switchModeHandler\",\"setState\",\"prevState\",\"isLogin\",\"submitHandler\",\"event\",\"preventDefault\",\"email\",\"emailEl\",\"current\",\"value\",\"password\",\"passwordEl\",\"trim\",\"length\",\"requestBody\",\"query\",\"variables\",\"state\",\"fetch\",\"method\",\"body\",\"JSON\",\"stringify\",\"headers\",\"Content-type\",\"then\",\"res\",\"status\",\"Error\",\"json\",\"resData\",\"data\",\"context\",\"catch\",\"err\",\"console\",\"log\",\"createRef\",\"react_default\",\"a\",\"createElement\",\"className\",\"onSubmit\",\"htmlFor\",\"type\",\"id\",\"ref\",\"onClick\",\"Component\",\"contextType\",\"AuthContext\",\"spinner\",\"bookingList\",\"bookings\",\"map\",\"booking\",\"key\",\"_id\",\"title\",\"Date\",\"createdAt\",\"toLocaleDateString\",\"onDelete\",\"bind\",\"BOOKINGS_BUCKETS\",\"Cheap\",\"min\",\"max\",\"Normal\",\"Expensive\",\"Chart\",\"chartData\",\"labels\",\"datasets\",\"values\",\"_loop\",\"bucket\",\"filteredBookings\",\"reduce\",\"prev\",\"price\",\"push\",\"fillColor\",\"strokeColor\",\"highlightFill\",\"highlightStroke\",\"toConsumableArray\",\"style\",\"textAlign\",\"react_chartjs\",\"BookingsControls\",\"activeButton\",\"activeOutput\",\"BookingsPage\",\"fecthBookings\",\"isLoading\",\"Authorization\",\"showDetailHandler\",\"eventId\",\"selectedEvent\",\"events\",\"find\",\"e\",\"deleteBookingHandler\",\"bookingId\",\"filter\",\"outputHandler\",\"output\",\"content\",\"components_Spinner\",\"Fragment\",\"src_components_BookingsControls\",\"components_BookingList\",\"components_Chart\",\"Modal\",\"children\",\"canCancel\",\"onCancel\",\"canConfirm\",\"onConfirm\",\"confirmText\",\"Backdrop\",\"click\",\"eventItem\",\"date\",\"creatorId\",\"onDetail\",\"eventList\",\"components_EventItem\",\"creator\",\"viewDetails\",\"EventsPage\",\"isActive\",\"createEventHandler\",\"creating\",\"modalConfirmHandler\",\"titleEl\",\"priceEl\",\"dateEl\",\"description\",\"descriptionEl\",\"updatedEvents\",\"createEvent\",\"modalCancelHandler\",\"bookEventHandler\",\"fetchEvents\",\"_this2\",\"src_components_Backdrop\",\"src_components_Modal\",\"rows\",\"components_EventList\",\"drawerButton\",\"MainNavigation\",\"auth_context\",\"Consumer\",\"components_DrawerButton\",\"drawerClick\",\"react_router_dom\",\"to\",\"Drawer\",\"drawerClasses\",\"show\",\"App\",\"drawerOpen\",\"drawerClickHandler\",\"backdropClickHandler\",\"backdrop\",\"Provider\",\"src_components_MainNavigation\",\"src_components_Drawer\",\"react_router\",\"from\",\"exact\",\"path\",\"component\",\"ReactDOM\",\"render\",\"src_App_0\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\";\\n\\nexport default React.createContext({\\n\\ttoken: null,\\n\\tuserId: null,\\n\\tlogin: (token, userId, tokenExpiration) => {},\\n\\tlogout: () => {}\\n});\\n\",\"import React from \\\"react\\\";\\nimport AuthContext from \\\"../context/auth-context\\\";\\n\\nimport \\\"./Auth.css\\\";\\n\\nclass AuthPage extends React.Component {\\n\\tstatic contextType = AuthContext;\\n\\tconstructor(props) {\\n\\t\\tsuper(props);\\n\\t\\tthis.state = {\\n\\t\\t\\tisLogin: true\\n\\t\\t};\\n\\t\\tthis.emailEl = React.createRef();\\n\\t\\tthis.passwordEl = React.createRef();\\n\\t}\\n\\n\\tswitchModeHandler = () => {\\n\\t\\tthis.setState(prevState => {\\n\\t\\t\\treturn { isLogin: !prevState.isLogin };\\n\\t\\t});\\n\\t};\\n\\n\\tsubmitHandler = event => {\\n\\t\\tevent.preventDefault();\\n\\t\\tconst email = this.emailEl.current.value;\\n\\t\\tconst password = this.passwordEl.current.value;\\n\\n\\t\\tif (email.trim().length === 0 || password.trim().length === 0) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tlet requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\tquery Login($email: String!, $password: String!) {\\n\\t\\t\\t\\t\\tlogin(email: $email, password: $password) {\\n\\t\\t\\t\\t\\t\\tuserId\\n\\t\\t\\t\\t\\t\\ttoken\\n\\t\\t\\t\\t\\t\\ttokenExpiration\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t`,\\n\\t\\t\\tvariables: {\\n\\t\\t\\t\\temail: email,\\n\\t\\t\\t\\tpassword: password\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tif (!this.state.isLogin) {\\n\\t\\t\\trequestBody = {\\n\\t\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tmutation CreateUser($email: String!, $password: String!) {\\n\\t\\t\\t\\t\\t\\tcreateUser(userInput: {email: $email, password: $password}) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\temail\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`,\\n\\t\\t\\t\\tvariables: {\\n\\t\\t\\t\\t\\temail: email,\\n\\t\\t\\t\\t\\tpassword: password\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\"\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tif (resData.data.login.token) {\\n\\t\\t\\t\\t\\tthis.context.login(\\n\\t\\t\\t\\t\\t\\tresData.data.login.token,\\n\\t\\t\\t\\t\\t\\tresData.data.login.userId,\\n\\t\\t\\t\\t\\t\\tresData.data.login.tokenExpiration\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tconsole.log(err);\\n\\t\\t\\t});\\n\\t};\\n\\trender() {\\n\\t\\treturn (\\n\\t\\t\\t<form className=\\\"auth-form\\\" onSubmit={this.submitHandler}>\\n\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t<label htmlFor=\\\"E-mail\\\">E-mail</label>\\n\\t\\t\\t\\t\\t<input type=\\\"email\\\" id=\\\"email\\\" ref={this.emailEl} />\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t<label htmlFor=\\\"Password\\\">Password</label>\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" id=\\\"password\\\" ref={this.passwordEl} />\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div className=\\\"form-actions\\\">\\n\\t\\t\\t\\t\\t<button type=\\\"submit\\\">Submit</button>\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" onClick={this.switchModeHandler}>\\n\\t\\t\\t\\t\\t\\t{this.state.isLogin ? \\\"Signup\\\" : \\\"Login\\\"}{\\\" \\\"}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</form>\\n\\t\\t);\\n\\t}\\n}\\n\\nexport default AuthPage;\\n\",\"import React from \\\"react\\\";\\n\\nimport \\\"./Spinner.css\\\";\\n\\nconst spinner = () => (\\n\\t<div className=\\\"spinner\\\">\\n\\t\\t<div className=\\\"lds-ellipsis\\\">\\n\\t\\t\\t<div />\\n\\t\\t\\t<div />\\n\\t\\t\\t<div />\\n\\t\\t\\t<div />\\n\\t\\t</div>\\n\\t</div>\\n);\\n\\nexport default spinner;\\n\",\"import React from \\\"react\\\";\\n\\nimport './BookingList.css'\\n\\nconst bookingList = props => (\\n\\t<ul className=\\\"bookings-list\\\">\\n\\t\\t{props.bookings.map(booking => {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<li key={booking._id} className=\\\"bookings-item\\\">\\n\\t\\t\\t\\t\\t<div className=\\\"bookings-item-data\\\">\\n\\t\\t\\t\\t\\t\\t{booking.event.title} -{\\\" \\\"}\\n\\t\\t\\t\\t\\t\\t{new Date(booking.createdAt).toLocaleDateString()}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div className=\\\"bookings-item-actions\\\">\\n\\t\\t\\t\\t\\t\\t<button className=\\\"btn\\\" onClick={props.onDelete.bind(this, booking._id)}>Cancel</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t);\\n\\t\\t})}\\n\\t</ul>\\n);\\n\\nexport default bookingList;\\n\",\"import React from \\\"react\\\";\\nimport { Bar as BarChart } from \\\"react-chartjs\\\";\\n\\nconst BOOKINGS_BUCKETS = {\\n\\tCheap: {\\n\\t\\tmin: 0,\\n\\t\\tmax: 50\\n\\t},\\n\\tNormal: {\\n\\t\\tmin: 50,\\n\\t\\tmax: 200\\n\\t},\\n\\tExpensive: {\\n\\t\\tmin: 200,\\n\\t\\tmax: 1000000000\\n\\t}\\n};\\n\\nconst Chart = props => {\\n\\tconst chartData = { labels: [], datasets: [] };\\n\\tlet values = [];\\n\\tfor (const bucket in BOOKINGS_BUCKETS) {\\n\\t\\tconst filteredBookings = props.bookings.reduce((prev, current) => {\\n\\t\\t\\tif (\\n\\t\\t\\t\\tcurrent.event.price > BOOKINGS_BUCKETS[bucket].min &&\\n\\t\\t\\t\\tcurrent.event.price < BOOKINGS_BUCKETS[bucket].max\\n\\t\\t\\t) {\\n\\t\\t\\t\\treturn prev + 1;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn prev;\\n\\t\\t\\t}\\n\\t\\t}, 0);\\n\\t\\tvalues.push(filteredBookings);\\n\\t\\tchartData.labels.push(bucket);\\n\\t\\tchartData.datasets.push({\\n\\t\\t\\tfillColor: \\\"rgba(220,220,220,0.5)\\\",\\n\\t\\t\\tstrokeColor: \\\"rgba(220,220,220,0.8)\\\",\\n\\t\\t\\thighlightFill: \\\"rgba(220,220,220,0.75)\\\",\\n\\t\\t\\thighlightStroke: \\\"rgba(220,220,220,1)\\\",\\n\\t\\t\\tdata: values\\n\\t\\t});\\n\\t\\tvalues = [...values];\\n\\t\\tvalues[values.length - 1] = 0;\\n\\t}\\n\\n\\treturn (\\n\\t\\t<div style={{ textAlign: \\\"center\\\" }}>\\n\\t\\t\\t<BarChart data={chartData} />\\n\\t\\t</div>\\n\\t);\\n};\\n\\nexport default Chart;\\n\",\"import React from \\\"react\\\";\\n\\nimport \\\"./BookingsControls.css\\\";\\n\\nconst BookingsControls = props => {\\n\\treturn (\\n\\t\\t<div className=\\\"bookings-control\\\">\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclassName={props.activeButton === \\\"list\\\" ? \\\"active\\\" : \\\"\\\"}\\n\\t\\t\\t\\tonClick={props.activeOutput.bind(this, \\\"list\\\")}\\n\\t\\t\\t>\\n\\t\\t\\t\\tList\\n\\t\\t\\t</button>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclassName={props.activeButton === \\\"chart\\\" ? \\\"active\\\" : \\\"\\\"}\\n\\t\\t\\t\\tonClick={props.activeOutput.bind(this, \\\"chart\\\")}\\n\\t\\t\\t>\\n\\t\\t\\t\\tChart\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t);\\n};\\n\\nexport default BookingsControls;\\n\",\"import React from \\\"react\\\";\\nimport AuthContext from \\\"../context/auth-context\\\";\\nimport Spinner from \\\"../components/Spinner\\\";\\nimport BookingList from \\\"../components/BookingList\\\";\\nimport Chart from \\\"../components/Chart\\\";\\nimport BookingsControls from \\\"../components/BookingsControls\\\";\\n\\nclass BookingsPage extends React.Component {\\n\\tstatic contextType = AuthContext;\\n\\tconstructor(props) {\\n\\t\\tsuper(props);\\n\\t\\tthis.state = {\\n\\t\\t\\tisLoading: false,\\n\\t\\t\\tbookings: [],\\n\\t\\t\\toutput: \\\"list\\\"\\n\\t\\t};\\n\\t}\\n\\tcomponentDidMount() {\\n\\t\\tthis.fecthBookings();\\n\\t}\\n\\n\\tfecthBookings = () => {\\n\\t\\tthis.setState({ isLoading: true });\\n\\t\\tconst requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tquery {\\n\\t\\t\\t\\t\\t\\tbookings {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\tcreatedAt\\n\\t\\t\\t\\t\\t\\t\\tevent {\\n\\t\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`\\n\\t\\t};\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\",\\n\\t\\t\\t\\tAuthorization: \\\"Bearer \\\" + this.context.token\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tconst bookings = resData.data.bookings;\\n\\t\\t\\t\\tthis.setState({ bookings: bookings, isLoading: false });\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tconsole.log(err);\\n\\t\\t\\t\\tthis.setState({ isLoading: false });\\n\\t\\t\\t});\\n\\t};\\n\\n\\tshowDetailHandler = eventId => {\\n\\t\\tthis.setState(prevState => {\\n\\t\\t\\tconst selectedEvent = prevState.events.find(e => e._id === eventId);\\n\\t\\t\\treturn { selectedEvent: selectedEvent };\\n\\t\\t});\\n\\t};\\n\\n\\tdeleteBookingHandler = bookingId => {\\n\\t\\tthis.setState({ isLoading: true });\\n\\t\\tconst requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tmutation DeleteBooking($id: ID!) {\\n\\t\\t\\t\\t\\t\\tcancelBooking(bookingId: $id) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`,\\n\\t\\t\\tvariables: {\\n\\t\\t\\t\\tid: bookingId\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\",\\n\\t\\t\\t\\tAuthorization: \\\"Bearer \\\" + this.context.token\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tthis.setState(prevState => {\\n\\t\\t\\t\\t\\tconst updatedBookings = prevState.bookings.filter(booking => {\\n\\t\\t\\t\\t\\t\\treturn booking._id !== bookingId;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\treturn { bookings: updatedBookings, isLoading: false };\\n\\t\\t\\t\\t});\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tconsole.log(err);\\n\\t\\t\\t\\tthis.setState({ isLoading: false });\\n\\t\\t\\t});\\n\\t};\\n\\n\\toutputHandler = output => {\\n\\t\\tif (output === \\\"list\\\") {\\n\\t\\t\\tthis.setState({ output: \\\"list\\\" });\\n\\t\\t} else {\\n\\t\\t\\tthis.setState({ output: \\\"chart\\\" });\\n\\t\\t}\\n\\t};\\n\\n\\trender() {\\n\\t\\tlet content = <Spinner />;\\n\\t\\tif (!this.state.isLoading) {\\n\\t\\t\\tcontent = (\\n\\t\\t\\t\\t<React.Fragment>\\n\\t\\t\\t\\t\\t<BookingsControls\\n\\t\\t\\t\\t\\t\\tactiveButton={this.state.output}\\n\\t\\t\\t\\t\\t\\tactiveOutput={this.outputHandler}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t{this.state.output === \\\"list\\\" ? (\\n\\t\\t\\t\\t\\t\\t\\t<BookingList\\n\\t\\t\\t\\t\\t\\t\\t\\tbookings={this.state.bookings}\\n\\t\\t\\t\\t\\t\\t\\t\\tonDelete={this.deleteBookingHandler}\\n\\t\\t\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t\\t\\t<Chart bookings={this.state.bookings} />\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</React.Fragment>\\n\\t\\t\\t);\\n\\t\\t}\\n\\t\\treturn <React.Fragment>{content}</React.Fragment>;\\n\\t}\\n}\\n\\nexport default BookingsPage;\\n\",\"import React from \\\"react\\\";\\n\\nimport \\\"./Modal.css\\\";\\n\\nconst Modal = props => (\\n\\t<div className=\\\"modal\\\">\\n\\t\\t<header className=\\\"modal-header\\\">\\n\\t\\t\\t<h1>{props.title}</h1>\\n\\t\\t</header>\\n\\t\\t<section className=\\\"modal-content\\\">{props.children}</section>\\n\\t\\t<section className=\\\"modal-actions\\\">\\n\\t\\t\\t{props.canCancel && (\\n\\t\\t\\t\\t<button className=\\\"btn\\\" onClick={props.onCancel}>\\n\\t\\t\\t\\t\\tCancel\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t)}\\n\\t\\t\\t{props.canConfirm && (\\n\\t\\t\\t\\t<button className=\\\"btn\\\" onClick={props.onConfirm}>\\n\\t\\t\\t\\t\\t{props.confirmText}\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t)}\\n\\t\\t</section>\\n\\t</div>\\n);\\n\\nexport default Modal;\\n\",\"import React from \\\"react\\\";\\n\\nimport \\\"./Backdrop.css\\\";\\n\\nconst Backdrop = props => <div className=\\\"backdrop\\\" onClick={props.click} />;\\n\\nexport default Backdrop;\\n\",\"import React from \\\"react\\\";\\n\\nimport \\\"./EventItem.css\\\";\\n\\nconst eventItem = props => (\\n\\t<li key={props.eventId} className=\\\"events-list-item\\\">\\n\\t\\t<div>\\n\\t\\t\\t<h1>{props.title}</h1>\\n\\t\\t\\t<h2>${props.price} - {new Date(props.date).toLocaleDateString()}</h2>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t{props.userId === props.creatorId ? (\\n\\t\\t\\t\\t<p>your the owner of this event</p>\\n\\t\\t\\t) : (\\n\\t\\t\\t\\t<button className=\\\"btn\\\" onClick={props.onDetail.bind(this, props.eventId)}>View Details</button>\\n\\t\\t\\t)}\\n\\t\\t</div>\\n\\t</li>\\n);\\n\\nexport default eventItem;\\n\",\"import React from \\\"react\\\";\\nimport EventItem from \\\"./EventItem\\\";\\n\\nimport \\\"./EventList.css\\\";\\n\\nconst eventList = props => {\\n\\tconst events = props.events.map(event => {\\n\\t\\treturn (\\n\\t\\t\\t<EventItem\\n\\t\\t\\t\\tkey={event._id}\\n\\t\\t\\t\\teventId={event._id}\\n\\t\\t\\t\\ttitle={event.title}\\n\\t\\t\\t\\tprice={event.price}\\n\\t\\t\\t\\tdate={event.date}\\n\\t\\t\\t\\tuserId={props.userId}\\n\\t\\t\\t\\tcreatorId={event.creator._id}\\n\\t\\t\\t\\tonDetail={props.viewDetails}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t});\\n\\n\\treturn <ul className=\\\"event-list\\\">{events}</ul>;\\n};\\nexport default eventList;\\n\",\"import React from \\\"react\\\";\\nimport Modal from \\\"../components/Modal\\\";\\nimport Backdrop from \\\"../components/Backdrop\\\";\\nimport EventList from \\\"../components/EventList\\\";\\nimport AuthContext from \\\"../context/auth-context\\\";\\nimport Spinner from \\\"../components/Spinner\\\";\\n\\nimport \\\"./Events.css\\\";\\n\\nclass EventsPage extends React.Component {\\n\\tstatic contextType = AuthContext;\\n\\tisActive = true;\\n\\tconstructor(props) {\\n\\t\\tsuper(props);\\n\\t\\tthis.state = {\\n\\t\\t\\tcreating: false,\\n\\t\\t\\tevents: [],\\n\\t\\t\\tisLoading: false,\\n\\t\\t\\tselectedEvent: null\\n\\t\\t};\\n\\t\\tthis.titleEl = React.createRef();\\n\\t\\tthis.priceEl = React.createRef();\\n\\t\\tthis.dateEl = React.createRef();\\n\\t\\tthis.descriptionEl = React.createRef();\\n\\t}\\n\\n\\tcomponentDidMount() {\\n\\t\\tthis.fetchEvents();\\n\\t}\\n\\n\\tcreateEventHandler = () => {\\n\\t\\tthis.setState({ creating: true });\\n\\t};\\n\\n\\tmodalConfirmHandler = () => {\\n\\t\\tthis.setState({ creating: false });\\n\\t\\tconst title = this.titleEl.current.value;\\n\\t\\tconst price = +this.priceEl.current.value;\\n\\t\\tconst date = this.dateEl.current.value;\\n\\t\\tconst description = this.descriptionEl.current.value;\\n\\n\\t\\tif (\\n\\t\\t\\ttitle.trim().length === 0 ||\\n\\t\\t\\tprice <= 0 ||\\n\\t\\t\\tdate.trim().length === 0 ||\\n\\t\\t\\tdescription.trim().length === 0\\n\\t\\t) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\tconst event = { title, price, date, description };\\n\\t\\tconsole.log(event);\\n\\n\\t\\tconst requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tmutation CreateEvent($title: String!, $description: String!, $price: Float!, $date: String!) {\\n\\t\\t\\t\\t\\t\\tcreateEvent(eventInput: {title: $title, description: $description, price: $price, date: $date}) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`,\\n\\t\\t\\tvariables: {\\n\\t\\t\\t\\ttitle: title,\\n\\t\\t\\t\\tdescription: description,\\n\\t\\t\\t\\tprice: price,\\n\\t\\t\\t\\tdate: date\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tconst token = this.context.token;\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\",\\n\\t\\t\\t\\tAuthorization: \\\"Bearer \\\" + token\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tthis.setState(prevState => {\\n\\t\\t\\t\\t\\tconst updatedEvents = [...prevState.events];\\n\\t\\t\\t\\t\\tupdatedEvents.push({\\n\\t\\t\\t\\t\\t\\t_id: resData.data.createEvent._id,\\n\\t\\t\\t\\t\\t\\ttitle: resData.data.createEvent.title,\\n\\t\\t\\t\\t\\t\\tdescription: resData.data.createEvent.description,\\n\\t\\t\\t\\t\\t\\tdate: resData.data.createEvent.date,\\n\\t\\t\\t\\t\\t\\tprice: resData.data.createEvent.price,\\n\\t\\t\\t\\t\\t\\tcreator: {\\n\\t\\t\\t\\t\\t\\t\\t_id: this.context.userId\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\treturn { events: updatedEvents };\\n\\t\\t\\t\\t});\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tconsole.log(err);\\n\\t\\t\\t});\\n\\t};\\n\\n\\tmodalCancelHandler = () => {\\n\\t\\tthis.setState({ creating: false, selectedEvent: null });\\n\\t};\\n\\n\\tfetchEvents() {\\n\\t\\tthis.setState({ isLoading: true });\\n\\t\\tconst requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tquery {\\n\\t\\t\\t\\t\\t\\tevents {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t\\tcreator {\\n\\t\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\t\\temail\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`\\n\\t\\t};\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\"\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tconst events = resData.data.events;\\n\\t\\t\\t\\tif (this.isActive) {\\n\\t\\t\\t\\t\\tthis.setState({ events: events, isLoading: false });\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tif (this.isActive) {\\n\\t\\t\\t\\t\\tthis.setState({ isLoading: false });\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t}\\n\\n\\tshowDetailHandler = eventId => {\\n\\t\\tthis.setState(prevState => {\\n\\t\\t\\tconst selectedEvent = prevState.events.find(e => e._id === eventId);\\n\\t\\t\\treturn { selectedEvent: selectedEvent };\\n\\t\\t});\\n\\t};\\n\\n\\tbookEventHandler = () => {\\n\\t\\tif (!this.context.token) {\\n\\t\\t\\tthis.setState({ selectedEvent: null });\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tconst requestBody = {\\n\\t\\t\\tquery: `\\n\\t\\t\\t\\t\\tmutation BookEvent($id: ID!) {\\n\\t\\t\\t\\t\\t\\tbookEvent(eventId: $id) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\tcreatedAt\\n\\t\\t\\t\\t\\t\\t\\tupdatedAt\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t`,\\n\\t\\t\\tvariables: {\\n\\t\\t\\t\\tid: this.state.selectedEvent._id\\n\\t\\t\\t}\\n\\t\\t};\\n\\n\\t\\tfetch(\\\"http://localhost:3001/graphql\\\", {\\n\\t\\t\\tmethod: \\\"POST\\\",\\n\\t\\t\\tbody: JSON.stringify(requestBody),\\n\\t\\t\\theaders: {\\n\\t\\t\\t\\t\\\"Content-type\\\": \\\"application/json\\\",\\n\\t\\t\\t\\tAuthorization: \\\"Bearer \\\" + this.context.token\\n\\t\\t\\t}\\n\\t\\t})\\n\\t\\t\\t.then(res => {\\n\\t\\t\\t\\tif (res.status !== 200 && res.status !== 201) {\\n\\t\\t\\t\\t\\tthrow new Error(\\\"Request failed\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn res.json();\\n\\t\\t\\t})\\n\\t\\t\\t.then(resData => {\\n\\t\\t\\t\\tconsole.log(resData);\\n\\t\\t\\t\\tthis.setState({ selectedEvent: null });\\n\\t\\t\\t})\\n\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\tconsole.log(err);\\n\\t\\t\\t});\\n\\t};\\n\\n\\tcomponentWillUnmount() {\\n\\t\\tthis.isActive = false;\\n\\t}\\n\\n\\trender() {\\n\\t\\treturn (\\n\\t\\t\\t<React.Fragment>\\n\\t\\t\\t\\t{(this.state.creating || this.state.selectedEvent) && <Backdrop />}\\n\\t\\t\\t\\t{this.state.creating && (\\n\\t\\t\\t\\t\\t<Modal\\n\\t\\t\\t\\t\\t\\ttitle=\\\"Add Event\\\"\\n\\t\\t\\t\\t\\t\\tcanCancel\\n\\t\\t\\t\\t\\t\\tcanConfirm\\n\\t\\t\\t\\t\\t\\tonCancel={this.modalCancelHandler}\\n\\t\\t\\t\\t\\t\\tonConfirm={this.modalConfirmHandler}\\n\\t\\t\\t\\t\\t\\tconfirmText=\\\"Confirm\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<form>\\n\\t\\t\\t\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label htmlFor=\\\"title\\\">Title</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" id=\\\"title\\\" ref={this.titleEl} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label htmlFor=\\\"price\\\">Price</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" id=\\\"price\\\" ref={this.priceEl} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label htmlFor=\\\"date\\\">Date</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"datetime-local\\\" id=\\\"date\\\" ref={this.dateEl} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div className=\\\"form-control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label htmlFor=\\\"description\\\">Description</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<textarea id=\\\"description\\\" rows=\\\"4\\\" ref={this.descriptionEl} />\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t</Modal>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{this.state.selectedEvent && (\\n\\t\\t\\t\\t\\t<Modal\\n\\t\\t\\t\\t\\t\\ttitle={this.state.selectedEvent.title}\\n\\t\\t\\t\\t\\t\\tcanCancel\\n\\t\\t\\t\\t\\t\\tcanConfirm\\n\\t\\t\\t\\t\\t\\tonCancel={this.modalCancelHandler}\\n\\t\\t\\t\\t\\t\\tonConfirm={this.bookEventHandler}\\n\\t\\t\\t\\t\\t\\tconfirmText={this.context.token ? \\\"Book\\\" : \\\"Confirm\\\"}\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<h1>{this.state.selectedEvent.title}</h1>\\n\\t\\t\\t\\t\\t\\t<h2>\\n\\t\\t\\t\\t\\t\\t\\t${this.state.selectedEvent.price} -{\\\" \\\"}\\n\\t\\t\\t\\t\\t\\t\\t{new Date(this.state.selectedEvent.date).toLocaleDateString()}\\n\\t\\t\\t\\t\\t\\t</h2>\\n\\t\\t\\t\\t\\t\\t<p>{this.state.selectedEvent.description}</p>\\n\\t\\t\\t\\t\\t</Modal>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{this.context.token && (\\n\\t\\t\\t\\t\\t<div className=\\\"events-control\\\">\\n\\t\\t\\t\\t\\t\\t<p>Share your own Events!</p>\\n\\t\\t\\t\\t\\t\\t<button className=\\\"btn\\\" onClick={this.createEventHandler}>\\n\\t\\t\\t\\t\\t\\t\\tCreate Event\\n\\t\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t\\t{this.state.isLoading ? (\\n\\t\\t\\t\\t\\t<Spinner />\\n\\t\\t\\t\\t) : (\\n\\t\\t\\t\\t\\t<EventList\\n\\t\\t\\t\\t\\t\\tevents={this.state.events}\\n\\t\\t\\t\\t\\t\\tuserId={this.context.userId}\\n\\t\\t\\t\\t\\t\\tviewDetails={this.showDetailHandler}\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t)}\\n\\t\\t\\t</React.Fragment>\\n\\t\\t);\\n\\t}\\n}\\n\\nexport default EventsPage;\\n\",\"import React from \\\"react\\\";\\n\\nimport './DrawerButton.css';\\n\\nconst drawerButton = props => (\\n\\t<button className=\\\"drawer-button\\\" onClick={props.click} >\\n\\t\\t<div className=\\\"button-line\\\" />\\n\\t\\t<div className=\\\"button-line\\\" />\\n\\t\\t<div className=\\\"button-line\\\" />\\n\\t</button>\\n);\\n\\nexport default drawerButton;\\n\",\"import React from \\\"react\\\";\\nimport { NavLink } from \\\"react-router-dom\\\";\\nimport AuthContext from \\\"../context/auth-context\\\";\\nimport DrawerButton from \\\"./DrawerButton\\\";\\n\\nimport \\\"./MainNavigation.css\\\";\\n\\nconst MainNavigation = props => (\\n\\t<AuthContext.Consumer>\\n\\t\\t{context => {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<header className=\\\"main-navigation\\\">\\n\\t\\t\\t\\t\\t\\t<DrawerButton click={props.drawerClick} />\\n\\t\\t\\t\\t\\t<div className=\\\"main-navigation-logo\\\">\\n\\t\\t\\t\\t\\t\\t<h1>EventBooking</h1>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div className=\\\"main-navigation-items\\\">\\n\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t{!context.token && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/auth\\\">Login</NavLink>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/events\\\">Events</NavLink>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t{context.token && (\\n\\t\\t\\t\\t\\t\\t\\t\\t<React.Fragment>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/bookings\\\">Bookings</NavLink>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button onClick={context.logout}>Logout</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t</React.Fragment>\\n\\t\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</header>\\n\\t\\t\\t);\\n\\t\\t}}\\n\\t</AuthContext.Consumer>\\n);\\n\\nexport default MainNavigation;\\n\",\"import React from \\\"react\\\";\\nimport { NavLink } from \\\"react-router-dom\\\";\\nimport AuthContext from \\\"../context/auth-context\\\";\\n\\nimport \\\"./Drawer.css\\\";\\n\\nconst Drawer = props => {\\n\\tlet drawerClasses = 'side-drawer';\\n\\tif (props.show) {\\n\\t\\tdrawerClasses = 'side-drawer open';\\n\\t}\\n return (\\n\\t<AuthContext.Consumer>\\n\\t\\t{context => {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\t<nav className={drawerClasses}>\\n\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t{!context.token && (\\n\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/auth\\\">Login</NavLink>\\n\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/events\\\">Events</NavLink>\\n\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t{context.token && (\\n\\t\\t\\t\\t\\t\\t\\t<React.Fragment>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<NavLink to=\\\"/bookings\\\">Bookings</NavLink>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button onClick={context.logout}>Logout</button>\\n\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t</React.Fragment>\\n\\t\\t\\t\\t\\t\\t)}\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t</nav>\\n\\t\\t\\t);\\n\\t\\t}}\\n\\t</AuthContext.Consumer>\\n)};\\n\\nexport default Drawer;\\n\",\"import React from \\\"react\\\";\\nimport { BrowserRouter, Route, Redirect, Switch } from \\\"react-router-dom\\\";\\n\\nimport AuthPage from \\\"./pages/Auth\\\";\\nimport BookingsPage from \\\"./pages/Bookings\\\";\\nimport EventsPage from \\\"./pages/Events\\\";\\nimport MainNavigation from \\\"./components/MainNavigation\\\";\\nimport AuthContext from \\\"./context/auth-context\\\";\\nimport Drawer from \\\"./components/Drawer\\\";\\nimport Backdrop from \\\"./components/Backdrop\\\";\\n\\nimport \\\"./App.css\\\";\\n\\nclass App extends React.Component {\\n  state = {\\n    token: null,\\n    userId: null,\\n    drawerOpen: false\\n  };\\n\\n  login = (token, userId, tokenExpiration) => {\\n    this.setState({ token: token, userId: userId });\\n  };\\n\\n  logout = () => {\\n    this.setState({ token: null, userId: null });\\n  };\\n\\n  drawerClickHandler = () => {\\n    this.setState(prevState => {\\n      return { drawerOpen: !prevState.drawerOpen };\\n    });\\n  };\\n\\n  backdropClickHandler = () => {\\n    this.setState({drawerOpen: false});\\n  };\\n\\n  render() {\\n    let backdrop;\\n\\n    if (this.state.drawerOpen) {\\n      backdrop = <Backdrop click={this.backdropClickHandler} />;\\n    }\\n    return (\\n      <BrowserRouter>\\n        <React.Fragment>\\n          <AuthContext.Provider\\n            value={{\\n              token: this.state.token,\\n              userId: this.state.userId,\\n              login: this.login,\\n              logout: this.logout\\n            }}\\n          >\\n            <div className=\\\"content-section\\\">\\n              <MainNavigation drawerClick={this.drawerClickHandler} />\\n              <Drawer show={this.state.drawerOpen} />\\n              {backdrop}\\n              <main className=\\\"main-content\\\">\\n                <Switch>\\n                  {this.state.token && <Redirect from=\\\"/\\\" to=\\\"/events\\\" exact />}\\n                  {this.state.token && (\\n                    <Redirect from=\\\"/auth\\\" to=\\\"/events\\\" exact />\\n                  )}\\n                  {!this.state.token && (\\n                    <Route path=\\\"/auth\\\" component={AuthPage} />\\n                  )}\\n                  <Route path=\\\"/events\\\" component={EventsPage} />\\n                  {this.state.token && (\\n                    <Route path=\\\"/bookings\\\" component={BookingsPage} />\\n                  )}\\n                  {!this.state.token && <Redirect to=\\\"/auth\\\" exact />}\\n                </Switch>\\n              </main>\\n            </div>\\n          </AuthContext.Provider>\\n        </React.Fragment>\\n      </BrowserRouter>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,e,n){t.exports=n(64)},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){\"use strict\";n.r(e);var a=n(0),i=n.n(a),l=n(17),r=n.n(l),o=(n(30),n(6)),c=n(7),s=n(9),u=n(8),d=n(10),m=n(5),h=n(12),E=i.a.createContext({token:null,userId:null,login:function(t,e,n){},logout:function(){}}),f=(n(31),function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t))).switchModeHandler=function(){n.setState(function(t){return{isLogin:!t.isLogin}})},n.submitHandler=function(t){t.preventDefault();var e=n.emailEl.current.value,a=n.passwordEl.current.value;if(0!==e.trim().length&&0!==a.trim().length){var i={query:\"\\n\\t\\t\\t\\tquery Login($email: String!, $password: String!) {\\n\\t\\t\\t\\t\\tlogin(email: $email, password: $password) {\\n\\t\\t\\t\\t\\t\\tuserId\\n\\t\\t\\t\\t\\t\\ttoken\\n\\t\\t\\t\\t\\t\\ttokenExpiration\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\",variables:{email:e,password:a}};n.state.isLogin||(i={query:\"\\n\\t\\t\\t\\t\\tmutation CreateUser($email: String!, $password: String!) {\\n\\t\\t\\t\\t\\t\\tcreateUser(userInput: {email: $email, password: $password}) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\temail\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\",variables:{email:e,password:a}}),fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify(i),headers:{\"Content-type\":\"application/json\"}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(t){t.data.login.token&&n.context.login(t.data.login.token,t.data.login.userId,t.data.login.tokenExpiration)}).catch(function(t){console.log(t)})}},n.state={isLogin:!0},n.emailEl=i.a.createRef(),n.passwordEl=i.a.createRef(),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:\"render\",value:function(){return i.a.createElement(\"form\",{className:\"auth-form\",onSubmit:this.submitHandler},i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"E-mail\"},\"E-mail\"),i.a.createElement(\"input\",{type:\"email\",id:\"email\",ref:this.emailEl})),i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"Password\"},\"Password\"),i.a.createElement(\"input\",{type:\"password\",id:\"password\",ref:this.passwordEl})),i.a.createElement(\"div\",{className:\"form-actions\"},i.a.createElement(\"button\",{type:\"submit\"},\"Submit\"),i.a.createElement(\"button\",{type:\"button\",onClick:this.switchModeHandler},this.state.isLogin?\"Signup\":\"Login\",\" \")))}}]),e}(i.a.Component));f.contextType=E;var v=f,p=(n(32),function(){return i.a.createElement(\"div\",{className:\"spinner\"},i.a.createElement(\"div\",{className:\"lds-ellipsis\"},i.a.createElement(\"div\",null),i.a.createElement(\"div\",null),i.a.createElement(\"div\",null),i.a.createElement(\"div\",null)))}),g=(n(33),function(t){return i.a.createElement(\"ul\",{className:\"bookings-list\"},t.bookings.map(function(e){return i.a.createElement(\"li\",{key:e._id,className:\"bookings-item\"},i.a.createElement(\"div\",{className:\"bookings-item-data\"},e.event.title,\" -\",\" \",new Date(e.createdAt).toLocaleDateString()),i.a.createElement(\"div\",{className:\"bookings-item-actions\"},i.a.createElement(\"button\",{className:\"btn\",onClick:t.onDelete.bind(void 0,e._id)},\"Cancel\")))}))}),b=n(14),k=n(22),w={Cheap:{min:0,max:50},Normal:{min:50,max:200},Expensive:{min:200,max:1e9}},C=function(t){var e={labels:[],datasets:[]},n=[],a=function(a){var i=t.bookings.reduce(function(t,e){return e.event.price>w[a].min&&e.event.price<w[a].max?t+1:t},0);n.push(i),e.labels.push(a),e.datasets.push({fillColor:\"rgba(220,220,220,0.5)\",strokeColor:\"rgba(220,220,220,0.8)\",highlightFill:\"rgba(220,220,220,0.75)\",highlightStroke:\"rgba(220,220,220,1)\",data:n}),(n=Object(b.a)(n))[n.length-1]=0};for(var l in w)a(l);return i.a.createElement(\"div\",{style:{textAlign:\"center\"}},i.a.createElement(k.Bar,{data:e}))},y=(n(46),function(t){return i.a.createElement(\"div\",{className:\"bookings-control\"},i.a.createElement(\"button\",{className:\"list\"===t.activeButton?\"active\":\"\",onClick:t.activeOutput.bind(void 0,\"list\")},\"List\"),i.a.createElement(\"button\",{className:\"chart\"===t.activeButton?\"active\":\"\",onClick:t.activeOutput.bind(void 0,\"chart\")},\"Chart\"))}),S=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t))).fecthBookings=function(){n.setState({isLoading:!0});fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify({query:\"\\n\\t\\t\\t\\t\\tquery {\\n\\t\\t\\t\\t\\t\\tbookings {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\tcreatedAt\\n\\t\\t\\t\\t\\t\\t\\tevent {\\n\\t\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\"}),headers:{\"Content-type\":\"application/json\",Authorization:\"Bearer \"+n.context.token}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(t){var e=t.data.bookings;n.setState({bookings:e,isLoading:!1})}).catch(function(t){console.log(t),n.setState({isLoading:!1})})},n.showDetailHandler=function(t){n.setState(function(e){return{selectedEvent:e.events.find(function(e){return e._id===t})}})},n.deleteBookingHandler=function(t){n.setState({isLoading:!0});var e={query:\"\\n\\t\\t\\t\\t\\tmutation DeleteBooking($id: ID!) {\\n\\t\\t\\t\\t\\t\\tcancelBooking(bookingId: $id) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\",variables:{id:t}};fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify(e),headers:{\"Content-type\":\"application/json\",Authorization:\"Bearer \"+n.context.token}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(e){n.setState(function(e){return{bookings:e.bookings.filter(function(e){return e._id!==t}),isLoading:!1}})}).catch(function(t){console.log(t),n.setState({isLoading:!1})})},n.outputHandler=function(t){\"list\"===t?n.setState({output:\"list\"}):n.setState({output:\"chart\"})},n.state={isLoading:!1,bookings:[],output:\"list\"},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:\"componentDidMount\",value:function(){this.fecthBookings()}},{key:\"render\",value:function(){var t=i.a.createElement(p,null);return this.state.isLoading||(t=i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{activeButton:this.state.output,activeOutput:this.outputHandler}),i.a.createElement(\"div\",null,\"list\"===this.state.output?i.a.createElement(g,{bookings:this.state.bookings,onDelete:this.deleteBookingHandler}):i.a.createElement(C,{bookings:this.state.bookings})))),i.a.createElement(i.a.Fragment,null,t)}}]),e}(i.a.Component);S.contextType=E;var N=S,O=(n(47),function(t){return i.a.createElement(\"div\",{className:\"modal\"},i.a.createElement(\"header\",{className:\"modal-header\"},i.a.createElement(\"h1\",null,t.title)),i.a.createElement(\"section\",{className:\"modal-content\"},t.children),i.a.createElement(\"section\",{className:\"modal-actions\"},t.canCancel&&i.a.createElement(\"button\",{className:\"btn\",onClick:t.onCancel},\"Cancel\"),t.canConfirm&&i.a.createElement(\"button\",{className:\"btn\",onClick:t.onConfirm},t.confirmText)))}),j=(n(48),function(t){return i.a.createElement(\"div\",{className:\"backdrop\",onClick:t.click})}),x=(n(49),function(t){return i.a.createElement(\"li\",{key:t.eventId,className:\"events-list-item\"},i.a.createElement(\"div\",null,i.a.createElement(\"h1\",null,t.title),i.a.createElement(\"h2\",null,\"$\",t.price,\" - \",new Date(t.date).toLocaleDateString())),i.a.createElement(\"div\",null,t.userId===t.creatorId?i.a.createElement(\"p\",null,\"your the owner of this event\"):i.a.createElement(\"button\",{className:\"btn\",onClick:t.onDetail.bind(void 0,t.eventId)},\"View Details\")))}),L=(n(50),function(t){var e=t.events.map(function(e){return i.a.createElement(x,{key:e._id,eventId:e._id,title:e.title,price:e.price,date:e.date,userId:t.userId,creatorId:e.creator._id,onDetail:t.viewDetails})});return i.a.createElement(\"ul\",{className:\"event-list\"},e)}),I=(n(51),function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this,t))).isActive=!0,n.createEventHandler=function(){n.setState({creating:!0})},n.modalConfirmHandler=function(){n.setState({creating:!1});var t=n.titleEl.current.value,e=+n.priceEl.current.value,a=n.dateEl.current.value,i=n.descriptionEl.current.value;if(!(0===t.trim().length||e<=0||0===a.trim().length||0===i.trim().length)){var l={title:t,price:e,date:a,description:i};console.log(l);var r={query:\"\\n\\t\\t\\t\\t\\tmutation CreateEvent($title: String!, $description: String!, $price: Float!, $date: String!) {\\n\\t\\t\\t\\t\\t\\tcreateEvent(eventInput: {title: $title, description: $description, price: $price, date: $date}) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\",variables:{title:t,description:i,price:e,date:a}},o=n.context.token;fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify(r),headers:{\"Content-type\":\"application/json\",Authorization:\"Bearer \"+o}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(t){n.setState(function(e){var a=Object(b.a)(e.events);return a.push({_id:t.data.createEvent._id,title:t.data.createEvent.title,description:t.data.createEvent.description,date:t.data.createEvent.date,price:t.data.createEvent.price,creator:{_id:n.context.userId}}),{events:a}})}).catch(function(t){console.log(t)})}},n.modalCancelHandler=function(){n.setState({creating:!1,selectedEvent:null})},n.showDetailHandler=function(t){n.setState(function(e){return{selectedEvent:e.events.find(function(e){return e._id===t})}})},n.bookEventHandler=function(){if(n.context.token){var t={query:\"\\n\\t\\t\\t\\t\\tmutation BookEvent($id: ID!) {\\n\\t\\t\\t\\t\\t\\tbookEvent(eventId: $id) {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\tcreatedAt\\n\\t\\t\\t\\t\\t\\t\\tupdatedAt\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\",variables:{id:n.state.selectedEvent._id}};fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify(t),headers:{\"Content-type\":\"application/json\",Authorization:\"Bearer \"+n.context.token}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(t){console.log(t),n.setState({selectedEvent:null})}).catch(function(t){console.log(t)})}else n.setState({selectedEvent:null})},n.state={creating:!1,events:[],isLoading:!1,selectedEvent:null},n.titleEl=i.a.createRef(),n.priceEl=i.a.createRef(),n.dateEl=i.a.createRef(),n.descriptionEl=i.a.createRef(),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:\"componentDidMount\",value:function(){this.fetchEvents()}},{key:\"fetchEvents\",value:function(){var t=this;this.setState({isLoading:!0});fetch(\"http://localhost:3001/graphql\",{method:\"POST\",body:JSON.stringify({query:\"\\n\\t\\t\\t\\t\\tquery {\\n\\t\\t\\t\\t\\t\\tevents {\\n\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\tdate\\n\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t\\tcreator {\\n\\t\\t\\t\\t\\t\\t\\t\\t_id\\n\\t\\t\\t\\t\\t\\t\\t\\temail\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\"}),headers:{\"Content-type\":\"application/json\"}}).then(function(t){if(200!==t.status&&201!==t.status)throw new Error(\"Request failed\");return t.json()}).then(function(e){var n=e.data.events;t.isActive&&t.setState({events:n,isLoading:!1})}).catch(function(e){t.isActive&&t.setState({isLoading:!1})})}},{key:\"componentWillUnmount\",value:function(){this.isActive=!1}},{key:\"render\",value:function(){return i.a.createElement(i.a.Fragment,null,(this.state.creating||this.state.selectedEvent)&&i.a.createElement(j,null),this.state.creating&&i.a.createElement(O,{title:\"Add Event\",canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,confirmText:\"Confirm\"},i.a.createElement(\"form\",null,i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"title\"},\"Title\"),i.a.createElement(\"input\",{type:\"text\",id:\"title\",ref:this.titleEl})),i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"price\"},\"Price\"),i.a.createElement(\"input\",{type:\"number\",id:\"price\",ref:this.priceEl})),i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"date\"},\"Date\"),i.a.createElement(\"input\",{type:\"datetime-local\",id:\"date\",ref:this.dateEl})),i.a.createElement(\"div\",{className:\"form-control\"},i.a.createElement(\"label\",{htmlFor:\"description\"},\"Description\"),i.a.createElement(\"textarea\",{id:\"description\",rows:\"4\",ref:this.descriptionEl})))),this.state.selectedEvent&&i.a.createElement(O,{title:this.state.selectedEvent.title,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.bookEventHandler,confirmText:this.context.token?\"Book\":\"Confirm\"},i.a.createElement(\"h1\",null,this.state.selectedEvent.title),i.a.createElement(\"h2\",null,\"$\",this.state.selectedEvent.price,\" -\",\" \",new Date(this.state.selectedEvent.date).toLocaleDateString()),i.a.createElement(\"p\",null,this.state.selectedEvent.description)),this.context.token&&i.a.createElement(\"div\",{className:\"events-control\"},i.a.createElement(\"p\",null,\"Share your own Events!\"),i.a.createElement(\"button\",{className:\"btn\",onClick:this.createEventHandler},\"Create Event\")),this.state.isLoading?i.a.createElement(p,null):i.a.createElement(L,{events:this.state.events,userId:this.context.userId,viewDetails:this.showDetailHandler}))}}]),e}(i.a.Component));I.contextType=E;var D=I,H=(n(52),function(t){return i.a.createElement(\"button\",{className:\"drawer-button\",onClick:t.click},i.a.createElement(\"div\",{className:\"button-line\"}),i.a.createElement(\"div\",{className:\"button-line\"}),i.a.createElement(\"div\",{className:\"button-line\"}))}),q=(n(53),function(t){return i.a.createElement(E.Consumer,null,function(e){return i.a.createElement(\"header\",{className:\"main-navigation\"},i.a.createElement(H,{click:t.drawerClick}),i.a.createElement(\"div\",{className:\"main-navigation-logo\"},i.a.createElement(\"h1\",null,\"EventBooking\")),i.a.createElement(\"div\",{className:\"main-navigation-items\"},i.a.createElement(\"ul\",null,!e.token&&i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/auth\"},\"Login\")),i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/events\"},\"Events\")),e.token&&i.a.createElement(i.a.Fragment,null,i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/bookings\"},\"Bookings\")),i.a.createElement(\"li\",null,i.a.createElement(\"button\",{onClick:e.logout},\"Logout\"))))))})}),$=(n(62),function(t){var e=\"side-drawer\";return t.show&&(e=\"side-drawer open\"),i.a.createElement(E.Consumer,null,function(t){return i.a.createElement(\"nav\",{className:e},i.a.createElement(\"ul\",null,!t.token&&i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/auth\"},\"Login\")),i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/events\"},\"Events\")),t.token&&i.a.createElement(i.a.Fragment,null,i.a.createElement(\"li\",null,i.a.createElement(m.b,{to:\"/bookings\"},\"Bookings\")),i.a.createElement(\"li\",null,i.a.createElement(\"button\",{onClick:t.logout},\"Logout\")))))})}),B=(n(63),function(t){function e(){var t,n;Object(o.a)(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={token:null,userId:null,drawerOpen:!1},n.login=function(t,e,a){n.setState({token:t,userId:e})},n.logout=function(){n.setState({token:null,userId:null})},n.drawerClickHandler=function(){n.setState(function(t){return{drawerOpen:!t.drawerOpen}})},n.backdropClickHandler=function(){n.setState({drawerOpen:!1})},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:\"render\",value:function(){var t;return this.state.drawerOpen&&(t=i.a.createElement(j,{click:this.backdropClickHandler})),i.a.createElement(m.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(E.Provider,{value:{token:this.state.token,userId:this.state.userId,login:this.login,logout:this.logout}},i.a.createElement(\"div\",{className:\"content-section\"},i.a.createElement(q,{drawerClick:this.drawerClickHandler}),i.a.createElement($,{show:this.state.drawerOpen}),t,i.a.createElement(\"main\",{className:\"main-content\"},i.a.createElement(h.d,null,this.state.token&&i.a.createElement(h.a,{from:\"/\",to:\"/events\",exact:!0}),this.state.token&&i.a.createElement(h.a,{from:\"/auth\",to:\"/events\",exact:!0}),!this.state.token&&i.a.createElement(h.b,{path:\"/auth\",component:v}),i.a.createElement(h.b,{path:\"/events\",component:D}),this.state.token&&i.a.createElement(h.b,{path:\"/bookings\",component:N}),!this.state.token&&i.a.createElement(h.a,{to:\"/auth\",exact:!0})))))))}}]),e}(i.a.Component));r.a.render(i.a.createElement(B,null),document.getElementById(\"root\"))}},[[25,1,2]]]);","extractedComments":[]}